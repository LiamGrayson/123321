import mitmproxy
import socket

def start(ctx):
    # 构造数据包
    packet = b'您的构造的数据包'
    
    # 发送数据包
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("example.com", 80))
        s.sendall(packet)

addons = [
    start,
]



mitmproxy --addon-script send_packet send_packet.py

import csv
import random

def random_data(file_path):
    """
    从 CSV 文件中随机选取一个数据。

    Args:
        file_path (str): CSV 文件路径。

    Returns:
        list: 随机选取的数据。
    """
    with open(file_path, 'r') as csvfile:
        reader = csv.reader(csvfile)
        data = list(reader)
        return random.choice(data)

if __name__ == '__main__':
    # 设置 CSV 文件路径
    file_path = 'data.csv'

    # 从文件中随机选取一个数据
    random_data = random_data(file_path)

    # 打印随机选取的数据
    print(random_data)
