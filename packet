import mitmproxy
import socket

def start(ctx):
    # 构造数据包
    packet = b'您的构造的数据包'
    
    # 发送数据包
    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
        s.connect(("example.com", 80))
        s.sendall(packet)

addons = [
    start,
]



mitmproxy --addon-script send_packet send_packet.py


import csv
import random

def random_data(filename):
  """
  从csv文件中随机选取一行数据
  """
  with open(filename, 'r') as f:
    reader = csv.reader(f)
    # 跳过第一行标题行
    next(reader)
    # 随机选择一行数据
    random_row = random.choice(list(reader))
  return random_row

# 使用示例
filename = 'data.csv'  # 替换为您的实际文件名
random_row = random_data(filename)
print(random_row)
